<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real or Fake? The Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* White glow for correct answers */
        .feedback-correct {
            box-shadow: 0 0 25px 8px rgba(255, 255, 255, 0.6);
        }
        /* A dimmer, gray glow for incorrect answers */
        .feedback-incorrect {
            box-shadow: 0 0 25px 8px rgba(107, 114, 128, 0.5);
        }
    </style>
</head>
<body class="bg-black text-white flex items-center justify-center min-h-screen p-4">

    <div id="game-container" class="w-full max-w-lg text-center">
        <!-- Score Display -->
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-gray-400">Score: <span id="score">0</span></h2>
        </div>

        <!-- Image Display -->
        <div class="relative mb-6">
            <img id="game-image" src="" alt="Is this image real or fake?" class="w-full h-auto max-h-[60vh] object-contain rounded-xl shadow-lg transition-all duration-300 bg-gray-900">
            <!-- Feedback Overlay -->
            <div id="feedback-overlay" class="absolute inset-0 flex items-center justify-center text-5xl font-extrabold uppercase tracking-widest hidden rounded-xl transition-opacity duration-300">
                <span id="feedback-text" class="text-white" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8);"></span>
            </div>
        </div>

        <!-- Action Buttons -->
        <div id="button-container" class="grid grid-cols-2 gap-4">
            <button id="real-btn" class="bg-gray-200 hover:bg-gray-300 text-black font-bold py-4 px-4 rounded-lg text-xl transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-400/50">
                Real
            </button>
            <button id="fake-btn" class="bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white font-bold py-4 px-4 rounded-lg text-xl transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-600/50">
                Fake
            </button>
        </div>
    </div>

    <!-- Final Score Modal -->
    <div id="final-score-modal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4">
        <div class="bg-gray-900 border border-gray-700 rounded-2xl p-8 text-center shadow-2xl max-w-md w-full">
            <h2 class="text-4xl font-bold mb-4">Game Over!</h2>
            <p class="text-xl text-gray-300 mb-6">Your final score is <span id="final-score" class="font-bold text-white"></span> out of <span id="total-questions"></span>.</p>
            <button id="play-again-btn" class="bg-gray-200 hover:bg-gray-300 text-black font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-400/50">
                Play Again
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Game Data ---
            const gameData = [
                { src: 'images/real/camper_shoe.jpg', isReal: true },
                { src: 'images/real/florsheim_shoe.webp', isReal: true },
                { src: 'images/real/landscape.png', isReal: true },
                { src: 'images/real/real_images.jpg', isReal: true },
                { src: 'images/real/shoe_workshop.jpg', isReal: true },
                { src: 'images/fake/gemini_shoe.jpg', isReal: false },
                { src: 'images/fake/landscape.jpg', isReal: false },
                { src: 'images/fake/old_workshop.jpg', isReal: false },
                { src: 'images/fake/trail running man.png', isReal: false },
            ];

            const einstein_image = { src: 'images/fake/einstein.png', isReal: false }

            var currentGameImgOrder;

            // --- DOM Elements ---
            const scoreEl = document.getElementById('score');
            const imageEl = document.getElementById('game-image');
            const realBtn = document.getElementById('real-btn');
            const fakeBtn = document.getElementById('fake-btn');
            const buttonContainer = document.getElementById('button-container');
            const feedbackOverlay = document.getElementById('feedback-overlay');
            const feedbackText = document.getElementById('feedback-text');

            const finalScoreModal = document.getElementById('final-score-modal');
            const finalScoreEl = document.getElementById('final-score');
            const totalQuestionsEl = document.getElementById('total-questions');
            const playAgainBtn = document.getElementById('play-again-btn');

            // --- Game State ---
            let currentImageIndex = 0;
            let score = 0;
            let isChecking = false;

            // --- Functions ---
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }
            
            function loadQuestion() {
                if (currentImageIndex >= currentGameImgOrder.length) {
                    showFinalScore();
                    return;
                }
                isChecking = false;
                imageEl.classList.remove('feedback-correct', 'feedback-incorrect');
                feedbackOverlay.classList.add('hidden');
                feedbackOverlay.classList.remove('bg-black/60');
                buttonContainer.style.pointerEvents = 'auto';
                imageEl.src = currentGameImgOrder[currentImageIndex].src;
                scoreEl.textContent = score;
            }

            function checkAnswer(userIsReal) {
                if (isChecking) return;
                isChecking = true;
                buttonContainer.style.pointerEvents = 'none';

                const correctAnswer = currentGameImgOrder[currentImageIndex].isReal;
                if (userIsReal === correctAnswer) {
                    score++;
                    imageEl.classList.add('feedback-correct');
                    feedbackText.textContent = 'Correct!';
                } else {
                    imageEl.classList.add('feedback-incorrect');
                    feedbackText.textContent = 'Wrong!';
                }
                feedbackOverlay.classList.add('bg-black/60');
                feedbackOverlay.classList.remove('hidden');
                scoreEl.textContent = score;

                setTimeout(() => {
                    currentImageIndex++;
                    loadQuestion();
                }, 1200); // Wait 1.2 seconds before loading next image
            }

            function showFinalScore() {
                finalScoreEl.textContent = score;
                totalQuestionsEl.textContent = currentGameImgOrder.length;
                finalScoreModal.classList.remove('hidden');
                finalScoreModal.classList.add('flex');
            }
            
            function restartGame() {
                score = 0;
                currentImageIndex = 0;
                shuffleArray(gameData);
                currentGameImgOrder = [...gameData];
                currentGameImgOrder.push(einstein_image)
                console.log(currentGameImgOrder);
                finalScoreModal.classList.add('hidden');
                finalScoreModal.classList.remove('flex');
                loadQuestion();
            }

            // --- Event Listeners ---
            realBtn.addEventListener('click', () => checkAnswer(true));
            fakeBtn.addEventListener('click', () => checkAnswer(false));
            playAgainBtn.addEventListener('click', restartGame);

            // --- Initial Game Start ---
            shuffleArray(gameData);
            currentGameImgOrder = [...gameData];
            currentGameImgOrder.push(einstein_image)
            console.log(currentGameImgOrder);
            loadQuestion();
        });
    </script>
</body>
</html>
